PHP
PHA
TYA
PHA
TXA
PHA


LDY #$03
CHECK LDA *$D0,Y
CMP *$7F
BEQ REFUSE
DEY
CPY #$00
BNE CHECK
; standard text
LDA *$7F
ASL A
TAX
LDA $8B82,X
STA *$00
LDA $8B83,X
STA *$01
; progressive refuse text
LDA #$40
STA *$00
LDA #$9D
STA #$01

PLA
TAY
PLP

RTS



LDA *$7F
CMP #$10
BNE NORMAL
BIT *$D0
BNE REFUSE
LDA *$D0
ORA #$10
STA *$D0
BNE NORMAL
REFUSE LDA $9D40,X
STA *$00
LDA $9D41,X
STA *$01
; 0xDD50 in ROM
BNE DONE
NORMAL ASL A
TAX
DONE LDA $8B82,X
STA *$00
LDA $8B83,X
STA *$01

PLP
RTS