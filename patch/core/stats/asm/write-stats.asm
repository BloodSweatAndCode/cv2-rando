TXA
PHA
TYA
PHA

LDA #$00
STA *$D9
LDX #$05
LDY *$D0
LOOPCH
LDA *$D2,X
BNE CHAR
LDA *$D9
BEQ NEXTCH
LDA #$00
CHAR
CLC
ADC #$E0
STA *$D9
STA $700,Y
NEXTCH
INY
DEX
BNE LOOPCH

PLA
TAY
PLA
TAX

RTS